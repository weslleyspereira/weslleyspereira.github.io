<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <figure><img alt="" src="https://cdn-images-1.medium.com/max/325/1*FE5ZRLN-kRsIEUu8fgSEng.png"></figure> <p>After finishing an endless paper, a presentation full of pictures, or even your own thesis, have you ever had to deal with the image’s directory size? The number of images may grow faster because you probably are more concerned about the main subject, the LaTeX document itself, than the images that come and go. Also, other files can parasite your final project, helping it to grow and scare everyone who asks you to share the source. I would like to present a little piece of code written in Bash that may help you. This article is also for me to test the Medium platform. So let’s go!</p> <p>First of all, I will assume you have the path $projectFolder and the main file name $mainfilename of your main LaTeX file, without the extension ‘.tex’. Moreover, I assume your LaTeX interpreter generates a log file $mainfile'.log' since this is used to do the job. If we are all good, the following script will remove all unnecessary files hidden inside directories from your project area. All of them are moved to the directory $nonUsed .</p> <pre>nonUsed="./nonUsedFiles"<br>mkdir -p "$nonUsed"</pre> <pre># Directory Level 1<br>for imgFolder in $(ls -d "$projectFolder"/*/); do<br>    echo "$imgFolder"<br>    for imageFile in $(ls "$imgFolder"); do<br>#        echo "$imageFile"<br>        if grep "$imageFile" "$projectFolder/$mainfilename.log" -c &gt; 1; then<br>            echo "+ File $imageFile is in use."<br>        else<br>            echo "- File $imageFile is not in use."<br>            mkdir -p $nonUsed"/"$imgFolder<br>            mv "$imgFolder/$imageFile" "$nonUsed/$imgFolder$imageFile"<br>        fi<br>    done<br>done</pre> <p>This is a helpful but still limited script since it removes only the one-level files. You can either do another script for other levels in your folders, e.g.</p> <pre># Directory Level 2<br>for imgFolder in $(ls -d "$projectFolder"/*/*/); do<br>    echo "$imgFolder"<br>    for imageFile in $(ls "$imgFolder"); do<br>#        echo "$imageFile"<br>        if grep "$imageFile" "$projectFolder/$mainfilename.log" -c &gt; 1; then<br>            echo "+ File $imageFile is in use."<br>        else<br>            echo "- File $imageFile is not in use."<br>            mkdir -p $nonUsed"/"$imgFolder<br>            mv "$imgFolder/$imageFile" "$nonUsed/$imgFolder$imageFile"<br>        fi<br>    done<br>done</pre> <p>or just improve the script to make it better. This is only a message we can use the LaTeX log files to help us improving storage space. Have fun! (and report possible typos or malfunctionings…)</p> <p><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=f07558f9ff3f" width="1" height="1" alt=""></p> </body></html>